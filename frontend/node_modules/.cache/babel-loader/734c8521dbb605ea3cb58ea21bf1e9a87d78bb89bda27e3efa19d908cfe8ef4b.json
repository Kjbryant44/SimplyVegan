{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Authentication=_ref=>{let{setUser}=_ref;const[isLogin,setIsLogin]=useState(true);const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const handleUsernameChange=e=>setUsername(e.target.value);const handlePasswordChange=e=>setPassword(e.target.value);const handleSubmit=async e=>{e.preventDefault();setError('');try{const endpoint=isLogin?'/api/users/login':'/api/users/register';const response=await axios.post(`${process.env.REACT_APP_API_URL}${endpoint}`,{username,password},{withCredentials:true});if(isLogin){setUser(response.data.user);}else{setIsLogin(true);}}catch(error){var _error$response,_error$response$data;setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'An error occurred');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(\"h2\",{children:isLogin?'Login':'Register'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"form-label\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"username\",value:username,onChange:handleUsernameChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",value:password,onChange:handlePasswordChange,required:true})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:isLogin?'Login':'Register'})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-3\",children:[isLogin?\"Don't have an account? \":\"Already have an account? \",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link p-0\",onClick:()=>setIsLogin(!isLogin),children:isLogin?'Register':'Login'})]})]});};export default Authentication;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","Authentication","_ref","setUser","isLogin","setIsLogin","username","setUsername","password","setPassword","error","setError","handleUsernameChange","e","target","value","handlePasswordChange","handleSubmit","preventDefault","endpoint","response","post","process","env","REACT_APP_API_URL","withCredentials","data","user","_error$response","_error$response$data","message","className","children","onSubmit","htmlFor","type","id","onChange","required","onClick"],"sources":["/Users/bryant/Desktop/VGRecipe/frontend/src/components/Authentication.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst Authentication = ({ setUser }) => {\n  const [isLogin, setIsLogin] = useState(true);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n\n  const handleUsernameChange = (e) => setUsername(e.target.value);\n  const handlePasswordChange = (e) => setPassword(e.target.value);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    try {\n      const endpoint = isLogin ? '/api/users/login' : '/api/users/register';\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}${endpoint}`, {\n        username,\n        password\n      }, { withCredentials: true });\n      if (isLogin) {\n        setUser(response.data.user);\n      } else {\n        setIsLogin(true);\n      }\n    } catch (error) {\n      setError(error.response?.data?.message || 'An error occurred');\n    }\n  };\n\n  return (\n    <div className=\"container mt-5\">\n      <h2>{isLogin ? 'Login' : 'Register'}</h2>\n      <form onSubmit={handleSubmit}>\n        <div className=\"mb-3\">\n          <label htmlFor=\"username\" className=\"form-label\">Username</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"username\"\n            value={username}\n            onChange={handleUsernameChange}\n            required\n          />\n        </div>\n        <div className=\"mb-3\">\n          <label htmlFor=\"password\" className=\"form-label\">Password</label>\n          <input\n            type=\"password\"\n            className=\"form-control\"\n            id=\"password\"\n            value={password}\n            onChange={handlePasswordChange}\n            required\n          />\n        </div>\n        {error && <div className=\"alert alert-danger\">{error}</div>}\n        <button type=\"submit\" className=\"btn btn-primary\">{isLogin ? 'Login' : 'Register'}</button>\n      </form>\n      <p className=\"mt-3\">\n        {isLogin ? \"Don't have an account? \" : \"Already have an account? \"}\n        <button className=\"btn btn-link p-0\" onClick={() => setIsLogin(!isLogin)}>\n          {isLogin ? 'Register' : 'Login'}\n        </button>\n      </p>\n    </div>\n  );\n};\n\nexport default Authentication;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}